{% extends 'base.html' %}
{% block title %}Welcome{% endblock %}
{% block content %}

<div style="display:flex; flex-direction:column; justify-content:center; align-items:center; margin-top: 5rem; background:linear-gradient(135deg,#fcfcfc00,#3e79df00); color:white; text-align:center;">
    <h1 style="font-size:48px; margin-bottom:20px;">
        ðŸ‘‹ Welcome, {{ request.user.first_name|default:request.user.username }}!
    </h1>
    <div class="spinner"></div>
    <p style="font-size:18px; max-width:400px;margin-top: 2rem;">
        
        <!-- <img src="https://www.icegif.com/wp-content/uploads/2023/09/icegif-652.gif" alt=""> -->
                We're glad to see you back.
        Please hold....

        Redirecting to your dashboard in <span id="countdown">5</span> seconds...
    </p>

</div>
<!-- loading icon css -->
<style>
.spinner {
   --d: 24.6px;
   width: 6px;
   height: 6px;
   
   border-radius: 50%;
   color: #fcfcfc;
   box-shadow: calc(1*var(--d))      calc(0*var(--d))     0 0,
          calc(0.707*var(--d))  calc(0.707*var(--d)) 0 1.1px,
          calc(0*var(--d))      calc(1*var(--d))     0 2.2px,
          calc(-0.707*var(--d)) calc(0.707*var(--d)) 0 3.4px,
          calc(-1*var(--d))     calc(0*var(--d))     0 4.5px,
          calc(-0.707*var(--d)) calc(-0.707*var(--d))0 5.6px,
          calc(0*var(--d))      calc(-1*var(--d))    0 6.7px;
   animation: spinner-a90wxe 0.6s infinite steps(8);
}

@keyframes spinner-a90wxe {
   100% {
      transform: rotate(1turn);
   }
}
</style>


<script>
    let timeLeft = 5;
    let countdownEl = document.getElementById('countdown');

    let timer = setInterval(function() {
        timeLeft--;
        countdownEl.textContent = timeLeft;

        if (timeLeft <= 0) {
            clearInterval(timer);
            window.location.href = "{% url 'dashboard' %}";
        }
    }, 1000);
</script>

{% endblock %}
